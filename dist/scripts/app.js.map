{"version":3,"sources":["main.js","router.js","models/image.js","models/userModel.js","views/appView.js","views/loginView.js"],"names":[],"mappings":";;;;sBAAmB,UAAU;;;;AAE7B,CAAC,YAAU;AACT,cAAY,CAAC;;AAEb,GAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAU;;AAE3B,YAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;GAEzB,CAAC,CAAC;CAEJ,CAAA,EAAG,CAAC;;;;;;;;;;;;;8BCXiB,mBAAmB;;;;+BACZ,oBAAoB;;4BAC7B,iBAAiB;;;;2BACP,gBAAgB;;AAE9C,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;;AAEnC,OAAM,EAAE;AACP,IAAE,EAAE,OAAO;AACX,OAAK,EAAE,KAAK;EACZ;;AAED,WAAU,EAAE,sBAAW;;AAEtB,MAAI,CAAC,KAAK,GAAG,qBAbP,cAAc,EAaa,CAAC;AAClC,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,CAAA,YAAW;AAC3C,OAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;GACtC,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAEd,MAAI,CAAC,MAAM,GAAG,iBAhBR,eAAe,EAgBc,CAAC;EACpC;;AAED,MAAK,EAAE,iBAAW;AACjB,MAAI,IAAI,GAAG,gCAAc,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC;AACnD,GAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EACxB;;AAED,IAAG,EAAE,eAAW;AACf,MAAI,IAAI,GAAG,8BAAY;AACtB,aAAU,EAAE,IAAI,CAAC,MAAM;AACvB,WAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;GAC1B,CAAC,CAAC;AACH,GAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACxB,MAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;AACpB,SAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACzB;;CAED,CAAC,CAAC;;AAEH,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;;qBAEX,MAAM;;;;;;;;;;;ACzCrB,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;;AAEjC,SAAQ,EAAE,kBAAS,KAAK,EAAE,OAAO,EAAE;AAClC,MAAG,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;AAC3F,UAAO,gBAAgB,CAAC;GACxB;EACD;;AAED,YAAW,EAAE,KAAK;;AAElB,SAAQ,EAAE,oBAAW;AACpB,UAAQ,EAAE,EAAE,CAAC;AACb,WAAS,EAAE,EAAE,CAAC;AACd,eAAa,EAAE,EAAE,CAAC;AAClB,YAAU,EAAE,IAAI,IAAI,EAAE,CAAC;EACvB;;CAED,CAAC,CAAC;;AAEH,IAAI,eAAe,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;;AAEhD,MAAK,EAAE,KAAK;AACZ,IAAG,EAAE,mEAAmE;;CAExE,CAAC,CAAC;;qBAEY,EAAC,KAAK,EAAL,KAAK,EAAE,eAAe,EAAf,eAAe,EAAC;;;;;;;;;;;AC1BvC,IAAI,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;;AAEhC,SAAQ,EAAE;AACT,UAAQ,EAAE,EAAE;EACZ;;CAED,CAAC,CAAC;;AAEH,IAAI,cAAc,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;;AAE/C,MAAK,EAAE,IAAI;;CAEX,CAAC,CAAC;;qBAEY,EAAC,IAAI,EAAJ,IAAI,EAAE,cAAc,EAAd,cAAc,EAAC;;;;;;;;;;;qBCdtB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;;AAEnC,SAAQ,EAAE,GAAG,CAAC,GAAG;;AAEjB,OAAM,EAAE;;AAEP,aAAW,EAAE,SAAS;;AAEtB,+BAA6B,EAAE,WAAW;;AAE1C,0BAAwB,EAAE,UAAU;;EAEpC;;AAED,QAAO,EAAE,mBAAW;AACnB,MAAI,IAAI,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC;AAChC,MAAI,CAAC,WAAW,EAAE,CAAC;EACnB;;AAED,UAAS,EAAE,mBAAS,CAAC,EAAE,EAMtB;;AAED,SAAQ,EAAE,kBAAS,CAAC,EAAE;AACrB,SAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC;AAC9C,MAAI,YAAY,GAAG,IAAI,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,GAAG,EAAE,CAAC;AACtD,MAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AACtB,WAAQ,EAAE,IAAI,CAAC,QAAQ;AACvB,YAAS,EAAE,QAAQ;AACnB,gBAAa,EAAE,YAAY;GAC3B,CAAC,CAAC;EACH;;AAED,WAAU,EAAE,oBAAS,OAAO,EAAE;AAC7B,MAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;AACjE,MAAI,CAAC,MAAM,EAAE,CAAC;AACd,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,SAAS,EAAE,YAAW;AACpD,QAAK,CAAC,iBAAiB,CAAC,CAAC;GACzB,CAAC,CAAC;AACH,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;EACtD;;AAED,OAAM,EAAE,kBAAW;AAClB,MAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;EACvD;;CAED,CAAC;;;;;;;;;;;;;;;;;qBCpDa,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;;AAEnC,SAAQ,EAAE,GAAG,CAAC,KAAK;;AAEnB,OAAM,EAAE;AACP,sBAAoB,EAAE,OAAO;EAC7B;;AAED,MAAK,EAAE,eAAS,CAAC,EAAE;AAClB,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;AACzC,MAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;EAC1C;;AAED,WAAU,EAAE,sBAAW;AACtB,MAAI,CAAC,MAAM,EAAE,CAAC;EACd;;AAED,OAAM,EAAE,kBAAW;AAClB,MAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;EACvD;;CAED,CAAC","file":"app.js","sourcesContent":["import router from './router';\n\n(function(){\n  'use strict';\n\n  $(document).ready(function(){\n    \n  \tBackbone.history.start();\n\n  });\n\n})();\n","import LoginView from './views/loginView';\nimport {UserCollection} from './models/userModel';\nimport AppView from './views/appView';\nimport {ImageCollection} from './models/image';\n\nvar Router = Backbone.Router.extend({\n\n\troutes: {\n\t\t'': 'login',\n\t\t'app': 'app'\n\t},\n\n\tinitialize: function() {\n\n\t\tthis.users = new UserCollection();\n\t\tthis.listenTo(this.users, 'add', function() {\n\t\t\tthis.navigate('app', {trigger: true});\n\t\t}.bind(this));\n\n\t\tthis.images = new ImageCollection();\n\t},\n\n\tlogin: function() {\n\t\tvar view = new LoginView({collection: this.users});\n\t\t$('#app').html(view.el);\n\t},\n\n\tapp: function() {\n\t\tvar view = new AppView({\n\t\t\tcollection: this.images,\n\t\t\tusername: this.users.at(0)\n\t\t});\n\t\t$('#app').html(view.el);\n\t\tthis.images.fetch();\n\t\tconsole.log(this.images);\n\t}\n\n});\n\nvar router = new Router();\n\nexport default router;","var Image = Backbone.Model.extend({\n\n\tvalidate: function(attrs, options) {\n\t\tif(attrs.image_url.indexOf('http://') === -1 && attrs.image_url.indexOf('https://') === -1) {\n\t\t\treturn \"URL is invalid\";\n\t\t}\n\t},\n\n\tidAttribute: '_id',\n\n\tdefaults: function() {\n\t\tusername: '';\n\t\timage_url: '';\n\t\timage_caption: '';\n\t\tcreated_at: new Date();\n\t},\n\n});\n\nvar ImageCollection = Backbone.Collection.extend({\n\n\tmodel: Image,\n\turl: 'http://tiny-lasagna-server.herokuapp.com/collections/matts_images'\n\n});\n\nexport default {Image, ImageCollection};","var User = Backbone.Model.extend({\n\n\tdefaults: {\n\t\tusername: '',\n\t},\n\n});\n\nvar UserCollection = Backbone.Collection.extend({\n\n\tmodel: User,\n\n});\n\nexport default {User, UserCollection};","export default Backbone.View.extend({\n\n\ttemplate: JST.app,\n\n\tevents: {\n\n\t\t'click .fa': 'showAdd',\n\n\t\t'click .add-image-clear-form': 'clearForm',\n\n\t\t'submit .add-image-form': 'addImage'\n\n\t},\n\n\tshowAdd: function() {\n\t\tvar form = $('.add-image-form');\n\t\tform.slideToggle();\n\t},\n\n\tclearForm: function(e) {\n\t\t// e.preventDefault();\n\t\t// var urlInput = this.$('.add-image-url');\n\t\t// var captionInput = this.$('.add-image-caption');\n\t\t// urlInput.val('');\n\t\t// captionInput.val('');\n\t},\n\n\taddImage: function(e) {\n\t\tconsole.log('adding');\n\t\te.preventDefault();\n\t\tvar urlInput = this.$('.add-image-url').val();\n\t\tvar captionInput = this.$('.add-image-caption').val();\n\t\tthis.collection.create({\n\t\t\tusername: this.username,\n\t\t\timage_url: urlInput,\n\t\t\timage_caption: captionInput\n\t\t});\n\t},\n\n\tinitialize: function(options) {\n\t\tthis.username = options.user ? options.user.get('username') : '';\n\t\tthis.render();\n\t\tthis.listenTo(this.collection, 'invalid', function() {\n\t\t\talert('got problems...');\n\t\t});\n\t\tthis.listenTo(this.collection, 'update', this.render);\n\t},\n\n\trender: function() {\n\t\tthis.$el.html(this.template(this.collection.toJSON()));\n\t}\n\n});","export default Backbone.View.extend({\n\n\ttemplate: JST.login,\n\n\tevents: {\n\t\t'submit .login-form': 'login'\n\t},\n\n\tlogin: function(e) {\n\t\te.preventDefault();\n\t\tvar username = this.$('.username').val();\n\t\tthis.collection.add({username: username});\n\t},\n\n\tinitialize: function() {\n\t\tthis.render();\n\t},\n\n\trender: function() {\n\t\tthis.$el.html(this.template(this.collection.toJSON()));\n\t}\n\n});"],"sourceRoot":"/source/"}